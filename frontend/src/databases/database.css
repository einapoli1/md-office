/* ===== Database Editor Styles ===== */
.database-editor {
  display: flex; flex-direction: column; height: 100%; padding: 16px; overflow: auto;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
}

/* Header */
.db-header { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; flex-wrap: wrap; }
.db-title { font-size: 24px; font-weight: 700; border: none; background: transparent; outline: none; flex: 1; min-width: 200px; padding: 4px 0; }
.db-title:focus { border-bottom: 2px solid #2563eb; }
.db-actions { display: flex; gap: 8px; }

/* Buttons */
.db-btn { padding: 4px 10px; border: 1px solid #d1d5db; border-radius: 4px; background: white; cursor: pointer; font-size: 13px; white-space: nowrap; }
.db-btn:hover { background: #f3f4f6; }
.db-btn-sm { padding: 2px 8px; font-size: 12px; }
.db-btn-danger { color: #dc2626; border-color: #fca5a5; }
.db-btn-danger:hover { background: #fef2f2; }

/* Dropdowns */
.db-dropdown { position: absolute; top: 100%; left: 0; z-index: 50; background: white; border: 1px solid #d1d5db; border-radius: 6px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); min-width: 200px; padding: 4px; }
.db-dropdown-item { display: flex; flex-direction: column; width: 100%; text-align: left; padding: 6px 10px; border: none; background: none; cursor: pointer; border-radius: 4px; font-size: 13px; }
.db-dropdown-item:hover { background: #f3f4f6; }
.db-dropdown-item.selected { background: #eff6ff; }
.db-dropdown-desc { font-size: 11px; color: #6b7280; }

/* View tabs */
.db-view-tabs { display: flex; gap: 4px; border-bottom: 1px solid #e5e7eb; padding-bottom: 8px; margin-bottom: 12px; flex-wrap: wrap; align-items: center; }
.db-view-tab { display: flex; align-items: center; gap: 4px; padding: 4px 10px; border-radius: 4px; cursor: pointer; font-size: 13px; color: #6b7280; }
.db-view-tab:hover { background: #f3f4f6; }
.db-view-tab.active { background: #eff6ff; color: #2563eb; font-weight: 500; }
.db-view-tab-close { border: none; background: none; cursor: pointer; color: #9ca3af; font-size: 12px; padding: 0 2px; }
.db-view-tab-close:hover { color: #dc2626; }
.db-new-view-wrapper { position: relative; }

/* Tags */
.db-tag { display: inline-block; padding: 1px 8px; border-radius: 10px; font-size: 12px; margin: 1px 2px; }

/* Table view */
.db-table-wrapper { overflow: auto; flex: 1; }
.db-table { width: 100%; border-collapse: collapse; font-size: 13px; }
.db-table-header { text-align: left; padding: 6px 10px; border-bottom: 2px solid #e5e7eb; font-weight: 500; color: #6b7280; white-space: nowrap; position: relative; }
.db-table-add-col { width: 40px; text-align: center; }
.db-table-row { border-bottom: 1px solid #f3f4f6; cursor: pointer; }
.db-table-row:hover { background: #fafafa; }
.db-table-cell { padding: 4px 8px; min-width: 120px; max-width: 300px; }
.db-cell-input { width: 100%; border: none; background: transparent; outline: none; font-size: 13px; padding: 2px 0; }
.db-cell-input:focus { border-bottom: 1px solid #2563eb; }
.db-cell-text { min-height: 22px; cursor: text; }
.db-cell-checkbox { cursor: pointer; }
.db-add-row-btn { margin-top: 8px; color: #6b7280; border-style: dashed; }
.db-col-edit { display: flex; flex-direction: column; gap: 4px; }
.db-col-edit input, .db-col-edit select { font-size: 12px; padding: 2px 4px; }

/* Cell select */
.db-cell-select-wrapper { position: relative; }
.db-cell-select-display { display: flex; flex-wrap: wrap; gap: 2px; min-height: 24px; cursor: pointer; align-items: center; }
.db-placeholder { color: #9ca3af; font-size: 12px; }
.db-select-dropdown { max-height: 200px; overflow-y: auto; }
.db-select-search { width: 100%; border: none; border-bottom: 1px solid #e5e7eb; padding: 6px 8px; outline: none; font-size: 12px; }

/* Group section */
.db-group-header td { padding: 8px 10px; font-weight: 600; background: #f9fafb; cursor: pointer; font-size: 13px; }

/* Board view */
.db-board { display: flex; gap: 12px; overflow-x: auto; padding-bottom: 16px; flex: 1; }
.db-board-column { min-width: 260px; max-width: 300px; background: #f9fafb; border-radius: 8px; padding: 8px; display: flex; flex-direction: column; }
.db-board-column-header { display: flex; justify-content: space-between; align-items: center; padding: 4px 8px; margin-bottom: 8px; }
.db-board-column-title { font-weight: 600; font-size: 13px; }
.db-board-count { background: #e5e7eb; border-radius: 10px; padding: 0 6px; font-size: 11px; color: #6b7280; }
.db-board-cards { display: flex; flex-direction: column; gap: 6px; flex: 1; }
.db-board-card { background: white; border: 1px solid #e5e7eb; border-radius: 6px; padding: 8px 10px; cursor: pointer; }
.db-board-card:hover { box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
.db-board-card-title { font-weight: 500; font-size: 13px; margin-bottom: 4px; }
.db-board-card-field { font-size: 11px; color: #6b7280; }
.db-board-card-label { font-weight: 500; }
.db-board-add { margin-top: 8px; color: #6b7280; border-style: dashed; }

/* Gallery view */
.db-gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 12px; }
.db-gallery-card { border: 1px solid #e5e7eb; border-radius: 8px; overflow: hidden; cursor: pointer; }
.db-gallery-card:hover { box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
.db-gallery-card-thumb { height: 80px; display: flex; align-items: center; justify-content: center; background: #f3f4f6; font-size: 32px; font-weight: 700; color: #6b7280; }
.db-gallery-card-body { padding: 10px; }
.db-gallery-card-title { font-weight: 600; font-size: 14px; margin-bottom: 4px; }
.db-gallery-card-field { font-size: 12px; color: #6b7280; }
.db-gallery-label { font-weight: 500; margin-right: 4px; }

/* Calendar view */
.db-calendar { flex: 1; }
.db-calendar-nav { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; }
.db-calendar-month { font-size: 18px; font-weight: 600; }
.db-calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 1px; background: #e5e7eb; border: 1px solid #e5e7eb; border-radius: 6px; overflow: hidden; }
.db-calendar-day-header { background: #f9fafb; padding: 6px; text-align: center; font-size: 12px; font-weight: 500; color: #6b7280; }
.db-calendar-cell { background: white; min-height: 80px; padding: 4px; }
.db-calendar-cell.empty { background: #fafafa; }
.db-calendar-day-num { font-size: 12px; color: #6b7280; }
.db-calendar-event { font-size: 11px; background: #eff6ff; color: #2563eb; padding: 1px 4px; border-radius: 3px; margin-top: 2px; cursor: pointer; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.db-calendar-event:hover { background: #dbeafe; }

/* List view */
.db-list { display: flex; flex-direction: column; gap: 2px; }
.db-list-item { display: flex; align-items: center; gap: 12px; padding: 8px 12px; border-radius: 4px; cursor: pointer; }
.db-list-item:hover { background: #f9fafb; }
.db-list-item-title { font-weight: 500; font-size: 14px; min-width: 200px; }
.db-list-item-fields { display: flex; gap: 12px; font-size: 12px; color: #6b7280; }
.db-list-item-label { font-weight: 500; }

/* Filter/Sort panel */
.db-filter-sort-panel { background: #fafafa; border: 1px solid #e5e7eb; border-radius: 8px; padding: 12px; margin-bottom: 12px; }
.db-panel-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
.db-panel-header h4 { margin: 0; font-size: 14px; }
.db-panel-section { margin-bottom: 12px; }
.db-panel-section-header { display: flex; align-items: center; gap: 8px; margin-bottom: 6px; font-weight: 500; font-size: 13px; }
.db-conjunction-select { font-size: 11px; padding: 1px 4px; }
.db-filter-row { display: flex; gap: 6px; margin-bottom: 4px; align-items: center; }
.db-filter-row select, .db-filter-row input { font-size: 12px; padding: 3px 6px; border: 1px solid #d1d5db; border-radius: 4px; }
.db-empty-hint { font-size: 12px; color: #9ca3af; font-style: italic; }

/* Row detail modal */
.db-modal-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center; z-index: 100; }
.db-modal { background: white; border-radius: 10px; width: 560px; max-width: 90vw; max-height: 80vh; display: flex; flex-direction: column; box-shadow: 0 8px 32px rgba(0,0,0,0.15); }
.db-modal-header { display: flex; justify-content: space-between; align-items: center; padding: 14px 18px; border-bottom: 1px solid #e5e7eb; }
.db-modal-header h3 { margin: 0; font-size: 16px; }
.db-modal-actions { display: flex; gap: 6px; }
.db-modal-body { padding: 16px 18px; overflow-y: auto; flex: 1; }
.db-modal-field { margin-bottom: 14px; }
.db-modal-label { display: block; font-size: 12px; font-weight: 500; color: #6b7280; margin-bottom: 4px; }
.db-modal-value { }
.db-modal-footer { padding: 10px 18px; border-top: 1px solid #e5e7eb; display: flex; gap: 16px; font-size: 11px; color: #9ca3af; }

/* Database picker */
.db-picker { display: flex; flex-direction: column; align-items: center; padding: 48px; }
.db-picker h2 { margin-bottom: 24px; }
.db-picker-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(180px, 1fr)); gap: 12px; width: 100%; max-width: 800px; }
.db-picker-card { display: flex; flex-direction: column; align-items: center; padding: 20px; border: 1px solid #e5e7eb; border-radius: 8px; cursor: pointer; background: white; gap: 6px; }
.db-picker-card:hover { border-color: #2563eb; background: #eff6ff; }
.db-picker-icon { font-size: 28px; }
.db-picker-card small { font-size: 11px; color: #6b7280; text-align: center; }
.db-template-menu-wrapper { position: relative; }

/* Dark mode support */
.dark .database-editor { color: #e5e7eb; }
.dark .db-title { color: #f3f4f6; }
.dark .db-btn { background: #1f2937; border-color: #374151; color: #d1d5db; }
.dark .db-btn:hover { background: #374151; }
.dark .db-dropdown { background: #1f2937; border-color: #374151; }
.dark .db-dropdown-item:hover { background: #374151; }
.dark .db-table-row:hover { background: #1f2937; }
.dark .db-table-header { border-color: #374151; color: #9ca3af; }
.dark .db-table-row { border-color: #1f2937; }
.dark .db-cell-input { color: #e5e7eb; }
.dark .db-board-column { background: #111827; }
.dark .db-board-card { background: #1f2937; border-color: #374151; }
.dark .db-gallery-card { border-color: #374151; }
.dark .db-gallery-card-thumb { background: #1f2937; }
.dark .db-calendar-grid { background: #374151; border-color: #374151; }
.dark .db-calendar-cell { background: #111827; }
.dark .db-calendar-cell.empty { background: #0f172a; }
.dark .db-calendar-day-header { background: #1f2937; }
.dark .db-filter-sort-panel { background: #111827; border-color: #374151; }
.dark .db-modal { background: #1f2937; }
.dark .db-modal-header, .dark .db-modal-footer { border-color: #374151; }
.dark .db-list-item:hover { background: #1f2937; }
.dark .db-view-tab.active { background: #1e3a5f; color: #93c5fd; }
